#
# Speed - Speed test server (web based) for testing server to client speeds
#					With CloudFlare on, enables testing of CF benefits/drawbacks when
#					compared to CloudFlare off.
#
  speed:
    image: openspeedtest/latest
    container_name: ${SPEEDNAME}
    hostname: ${SPEEDNAME}
    domainname: ${MYDOMAIN}
    restart: unless-stopped
    depends_on:
      - traefik
    labels:
      - traefik.enable=true
      - traefik.http.routers.speed.rule=Host(`${SPEEDNAME}.${MYDOMAIN}`)
      - traefik.http.routers.speed.tls=true
      - traefik.http.routers.speed.tls.certresolver=lets-encrypt
      - traefik.port=3000
    networks:
      - OmniNet
