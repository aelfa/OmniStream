#
# Watchstate - Sync watch state between different media servers
#
  watchstate:
    image: ghcr.io/arabcoders/watchstate:latest
    container_name: watchstate
    hostname: watchstate
    domainname: ${MYDOMAIN}
    restart: unless-stopped
    user: "${USERID}:${GROUPID}"
    environment:
      #- WS_UID=${USERID}
      #- WS_GID=${GROUPID}
      - WS_TZ=${TIMEZONE}
      #- WS_LOGGER_FILE_ENABLE=ERROR
      #- WS_CRON_IMPORT=true
      #- WS_CRON_EXPORT=true
      #- WS_CRON_PUSH=true
    labels:
      - "omni=watchstate,${MYDOMAIN},yes,yes,yes"
      - autoheal=true
      - traefik.enable=false
    volumes:
      - ${CONFIGS}/watchstate:/config
    networks:
      - OmniNet
   healthcheck:
    test: ["CMD-SHELL", "netstat -ntlp | grep :9000"]
    interval: 10s
    timeout: 2s
    retries: 3
